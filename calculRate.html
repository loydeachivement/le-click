<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculateur de Transfert</title>
    <style>
        /* Style général du corps de la page */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f4f7f6;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        /* --- Styles pour le calculateur --- */
        .container {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 550px;
        }

        .logo {
            max-width: 130px;
            height: auto;
            margin-bottom: 2px;
        }

        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 10px;
        }

        .container > p {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #34495e;
            font-weight: 600;
        }

        input[type="number"],
        select {
            width: 100%;
            padding: 12px;
            border: 1px solid #bdc3c7;
            border-radius: 5px;
            box-sizing: border-box;
            font-size: 16px;
        }

        input[type="number"]:focus,
        select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 5px rgba(52, 152, 219, 0.5);
        }

        button {
            width: 100%;
            padding: 12px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #2980b9;
        }

        #resultats {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #ecf0f1;
            display: none;
        }

        #resultats h2 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 20px;
        }

        .result-item {
            display: flex;
            flex-direction: column;
            padding: 15px 0;
            border-bottom: 1px solid #ecf0f1;
        }

        .result-item:last-child {
            border-bottom: none;
        }
        
        .result-item .label {
            font-weight: 500;
            color: #34495e;
            margin-bottom: 10px;
        }

        .result-item .value-group {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .result-item .value {
            font-weight: bold;
            color: #2c3e50;
            font-size: 1.1em;
        }

        .result-item .currency {
            color: #7f8c8d;
            margin-left: 5px;
            font-size: 0.9em;
        }

        .result-item.final {
            background-color: #eafaf1;
            padding: 20px;
            border-radius: 5px;
            margin-top: 10px;
            border-bottom: none;
        }

        .result-item.final .label {
            font-size: 1.1em;
        }

        .result-item.final .value {
            font-size: 1.4em;
            color: #27ae60;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #ecf0f1;
        }
        
        .tab {
            flex: 1;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            background-color: #f8f9fa;
            border: 1px solid #ecf0f1;
            border-bottom: none;
            border-radius: 5px 5px 0 0;
            margin-right: 5px;
            font-weight: 600;
            color: #7f8c8d;
            transition: all 0.3s ease;
        }
        
        .tab:last-child {
            margin-right: 0;
        }
        
        .tab.active {
            background-color: #ffffff;
            color: #3498db;
            border-color: #3498db;
            border-bottom: 1px solid #ffffff;
            margin-bottom: -1px;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .francophone-options {
            display: flex;
            margin-bottom: 20px;
        }
        
        .francophone-option {
            flex: 1;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            background-color: #f8f9fa;
            border: 1px solid #ecf0f1;
            margin-right: 5px;
            font-weight: 600;
            color: #7f8c8d;
            transition: all 0.3s ease;
        }
        
        .francophone-option:last-child {
            margin-right: 0;
        }
        
        .francophone-option.active {
            background-color: #eafaf1;
            color: #27ae60;
            border-color: #27ae60;
        }

        /* Classe pour cacher des éléments */
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>

    <!-- CALCULATEUR -->
    <div id="calculateur" class="container">
        <center><img src="logo.png" alt="Logo le click" class="logo"></center>
        <h1>Calculateur de Transfert</h1>
        <p>Cet outil calcule les frais de transfert et le montant final à recevoir.</p>
        
        <!-- ONGLETS DE SÉLECTION -->
        <div class="tabs">
            <div class="tab active" data-tab="ghana">Ghana - Gabon</div>
            <div class="tab" data-tab="francophone">Afrique Francophone</div>
            <div class="tab" data-tab="reste">Reste de l'Afrique</div>
        </div>
        
        <!-- CONTENU DE L'ONGLET GHANA -->
        <div id="ghana-content" class="tab-content active">
            <form id="transferForm">
                <div class="form-group">
                    <label for="montant">Montant à envoyer (XAF):</label>
                    <input type="number" id="montant" placeholder="Ex: 100000" required>
                </div>

                <div class="form-group">
                    <label for="taux">Taux du Ghana Cedis (GHS) pour 10 000 XAF:</label>
                    <input type="number" id="taux" step="0.01" placeholder="Ex: 15.50" required>
                </div>

                <button type="submit">Calculer</button>
            </form>
        </div>
        
        <!-- CONTENU DE L'ONGLET AFRIQUE FRANCOPHONE -->
        <div id="francophone-content" class="tab-content">
            <div class="francophone-options">
                <div class="francophone-option active" data-option="envoi">Envoi sans frais de réception</div>
                <div class="francophone-option" data-option="reception">Réception avec frais</div>
            </div>
            
            <form id="francophoneForm">
                <div class="form-group">
                    <label for="montantFrancophone" id="montantFrancophoneLabel">Montant à envoyer (XAF):</label>
                    <input type="number" id="montantFrancophone" placeholder="Ex: 10000" required>
                </div>

                <button type="submit">Calculer</button>
            </form>
        </div>
        
        <!-- CONTENU DE L'ONGLET RESTE DE L'AFRIQUE -->
        <div id="reste-content" class="tab-content">
            <form id="resteForm">
                <div class="form-group">
                    <label for="montantReste">Montant à envoyer (XAF):</label>
                    <input type="number" id="montantReste" placeholder="Ex: 100000" required>
                </div>

                <div class="form-group">
                    <label for="tauxReste">Taux de change pour 10 000 XAF:</label>
                    <input type="number" id="tauxReste" step="0.01" placeholder="Ex: 15.50" required>
                </div>

                <div class="form-group">
                    <label for="fraisReste">Frais de transfert (%):</label>
                    <input type="number" id="fraisReste" step="0.01" placeholder="Ex: 10.5" required>
                </div>

                <button type="submit">Calculer</button>
            </form>
        </div>

        <div id="resultats">
            <h2>Résultats du Calcul</h2>
            
            <!-- RÉSULTATS POUR GHANA -->
            <div id="ghana-resultats" class="resultats-content">
                <div class="result-item">
                    <span class="label">Après application du pourcentage de transfert (10.5%)</span>
                    <div class="value-group">
                        <div>
                            <span class="value" id="resultat1Client">0.00</span>
                            <span class="currency">XAF (Montant du client)</span>
                        </div>
                        <div>
                            <span class="value" id="resultat1Frais">0.00</span>
                            <span class="currency">XAF (Frais)</span>
                        </div>
                    </div>
                </div>

                <div class="result-item final">
                    <span class="label">Montant total à recevoir au Ghana</span>
                    <div class="value-group">
                        <span class="value" id="resultatFinal">0.00</span>
                        <span class="currency">GHS</span>
                    </div>
                </div>
            </div>
            
            <!-- RÉSULTATS POUR AFRIQUE FRANCOPHONE -->
            <div id="francophone-resultats" class="resultats-content hidden">
                <div class="result-item">
                    <span class="label" id="francophone-label">Montant à recevoir après déduction des frais (9.5%)</span>
                    <div class="value-group">
                        <span class="value" id="francophone-montant">0.00</span>
                        <span class="currency">XAF</span>
                    </div>
                </div>
                
                <div class="result-item">
                    <span class="label" id="francophone-frais-label">Frais de transfert (9.5%)</span>
                    <div class="value-group">
                        <span class="value" id="francophone-frais">0.00</span>
                        <span class="currency">XAF</span>
                    </div>
                </div>
                
                <div class="result-item final">
                    <span class="label" id="francophile-final-label">Montant total envoyé</span>
                    <div class="value-group">
                        <span class="value" id="francophile-final">0.00</span>
                        <span class="currency">XAF</span>
                    </div>
                </div>
            </div>
            
            <!-- RÉSULTATS POUR RESTE DE L'AFRIQUE -->
            <div id="reste-resultats" class="resultats-content hidden">
                <div class="result-item">
                    <span class="label">Après application des frais de transfert</span>
                    <div class="value-group">
                        <div>
                            <span class="value" id="reste-montant-client">0.00</span>
                            <span class="currency">XAF (Montant du client)</span>
                        </div>
                        <div>
                            <span class="value" id="reste-frais">0.00</span>
                            <span class="currency">XAF (Frais)</span>
                        </div>
                    </div>
                </div>

                <div class="result-item final">
                    <span class="label">Montant total à recevoir</span>
                    <div class="value-group">
                        <span class="value" id="reste-final">0.00</span>
                        <span class="currency">(Devise de destination)</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Attendre que le contenu de la page soit entièrement chargé
        document.addEventListener('DOMContentLoaded', () => {

            // --- LOGIQUE DES ONGLETS ---
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            const resultatsContents = document.querySelectorAll('.resultats-content');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Désactiver tous les onglets et contenus
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(tc => tc.classList.remove('active'));
                    resultatsContents.forEach(rc => rc.classList.add('hidden'));
                    
                    // Activer l'onglet cliqué
                    tab.classList.add('active');
                    const tabId = tab.getAttribute('data-tab');
                    document.getElementById(`${tabId}-content`).classList.add('active');
                    
                    // Cacher les résultats
                    document.getElementById('resultats').style.display = 'none';
                });
            });
            
            // --- LOGIQUE DES OPTIONS FRANCOPHONES ---
            const francophoneOptions = document.querySelectorAll('.francophone-option');
            const francophoneLabel = document.getElementById('francophone-label');
            const francophoneFraisLabel = document.getElementById('francophone-frais-label');
            const montantFrancophoneLabel = document.getElementById('montantFrancophoneLabel');
            const francophileFinalLabel = document.getElementById('francophile-final-label');
            const montantFrancophoneInput = document.getElementById('montantFrancophone');
            
            francophoneOptions.forEach(option => {
                option.addEventListener('click', () => {
                    // Désactiver toutes les options
                    francophoneOptions.forEach(o => o.classList.remove('active'));
                    
                    // Activer l'option cliquée
                    option.classList.add('active');
                    
                    // Mettre à jour le label en fonction de l'option
                    const optionType = option.getAttribute('data-option');
                    if (optionType === 'envoi') {
                        francophoneLabel.textContent = 'Montant à recevoir après déduction des frais (9.5%)';
                        francophoneFraisLabel.textContent = 'Frais de transfert (9.5%)';
                        montantFrancophoneLabel.textContent = 'Montant à envoyer (XAF):';
                        francophileFinalLabel.textContent = 'Montant total envoyé';
                        montantFrancophoneInput.placeholder = 'Ex: 10000';
                    } else {
                        francophoneLabel.textContent = 'Montant à recevoir (valeur souhaitée)';
                        francophoneFraisLabel.textContent = 'Frais de transfert (12% du montant à recevoir)';
                        montantFrancophoneLabel.textContent = 'Montant à recevoir (XAF):';
                        francophileFinalLabel.textContent = 'Montant total à envoyer';
                        montantFrancophoneInput.placeholder = 'Ex: 10100';
                    }
                });
            });


            // --- LOGIQUE DU CALCULATEUR POUR GHANA ---
            const form = document.getElementById('transferForm');
            const montantInput = document.getElementById('montant');
            const tauxInput = document.getElementById('taux');
            const resultatsDiv = document.getElementById('resultats');
            
            const resultat1ClientSpan = document.getElementById('resultat1Client');
            const resultat1FraisSpan = document.getElementById('resultat1Frais');
            const resultatFinalSpan = document.getElementById('resultatFinal');

            form.addEventListener('submit', (event) => {
                event.preventDefault();

                const montantInitial = parseFloat(montantInput.value);
                const tauxPour10000 = parseFloat(tauxInput.value);

                if (isNaN(montantInitial) || isNaN(tauxPour10000) || montantInitial <= 0 || tauxPour10000 <= 0) {
                    alert('Veuillez entrer des valeurs valides et positives.');
                    return;
                }

                const pourcentagePrincipal = 0.105;
                const fraisPrincipal = montantInitial * pourcentagePrincipal;
                const montantDuClient = montantInitial - fraisPrincipal;
                const tauxPar1 = tauxPour10000 / 10000;
                const montantReceptionGHS = montantDuClient * tauxPar1;

                resultat1ClientSpan.textContent = montantDuClient.toFixed(2);
                resultat1FraisSpan.textContent = fraisPrincipal.toFixed(2);
                resultatFinalSpan.textContent = montantReceptionGHS.toFixed(2);

                // Afficher uniquement les résultats pour Ghana
                resultatsContents.forEach(rc => rc.classList.add('hidden'));
                document.getElementById('ghana-resultats').classList.remove('hidden');
                
                resultatsDiv.style.display = 'block';
                resultatsDiv.scrollIntoView({ behavior: 'smooth' });
            });
            
            // --- LOGIQUE DU CALCULATEUR POUR AFRIQUE FRANCOPHONE ---
            const francophoneForm = document.getElementById('francophoneForm');
            const francophoneMontantSpan = document.getElementById('francophone-montant');
            const francophoneFraisSpan = document.getElementById('francophone-frais');
            const francophileFinalSpan = document.getElementById('francophile-final');
            
            francophoneForm.addEventListener('submit', (event) => {
                event.preventDefault();
                
                const valeurEntree = parseFloat(montantFrancophoneInput.value);
                const optionActive = document.querySelector('.francophone-option.active').getAttribute('data-option');
                
                if (isNaN(valeurEntree) || valeurEntree <= 0) {
                    alert('Veuillez entrer des valeurs valides et positives.');
                    return;
                }
                
                let frais, montantRecevoir, montantEnvoyer;
                
                if (optionActive === 'envoi') {
                    // Pour envoyer un montant sans frais de réception: soustraire 9.5% du montant initial
                    const pourcentage = 0.095;
                    frais = valeurEntree * pourcentage;
                    montantEnvoyer = valeurEntree;
                    montantRecevoir = valeurEntree - frais;
                } else {
                    // Pour recevoir un montant avec frais de réception: 
                    // frais = 12% × montant à recevoir
                    // montant à envoyer = montant à recevoir + frais
                    const pourcentage = 0.12;
                    frais = valeurEntree * pourcentage;
                    montantRecevoir = valeurEntree;
                    montantEnvoyer = valeurEntree + frais;
                }
                
                francophoneMontantSpan.textContent = montantRecevoir.toFixed(2);
                francophoneFraisSpan.textContent = frais.toFixed(2);
                francophileFinalSpan.textContent = montantEnvoyer.toFixed(2);
                
                // Afficher uniquement les résultats pour Afrique Francophone
                resultatsContents.forEach(rc => rc.classList.add('hidden'));
                document.getElementById('francophone-resultats').classList.remove('hidden');
                
                resultatsDiv.style.display = 'block';
                resultatsDiv.scrollIntoView({ behavior: 'smooth' });
            });
            
            // --- LOGIQUE DU CALCULATEUR POUR RESTE DE L'AFRIQUE ---
            const resteForm = document.getElementById('resteForm');
            const montantResteInput = document.getElementById('montantReste');
            const tauxResteInput = document.getElementById('tauxReste');
            const fraisResteInput = document.getElementById('fraisReste');
            const resteMontantClientSpan = document.getElementById('reste-montant-client');
            const resteFraisSpan = document.getElementById('reste-frais');
            const resteFinalSpan = document.getElementById('reste-final');
            
            resteForm.addEventListener('submit', (event) => {
                event.preventDefault();
                
                const montantInitial = parseFloat(montantResteInput.value);
                const tauxPour10000 = parseFloat(tauxResteInput.value);
                const fraisPourcentage = parseFloat(fraisResteInput.value) / 100;
                
                if (isNaN(montantInitial) || isNaN(tauxPour10000) || isNaN(fraisPourcentage) || 
                    montantInitial <= 0 || tauxPour10000 <= 0 || fraisPourcentage < 0) {
                    alert('Veuillez entrer des valeurs valides et positives.');
                    return;
                }
                
                const fraisPrincipal = montantInitial * fraisPourcentage;
                const montantDuClient = montantInitial - fraisPrincipal;
                const tauxPar1 = tauxPour10000 / 10000;
                const montantReception = montantDuClient * tauxPar1;
                
                resteMontantClientSpan.textContent = montantDuClient.toFixed(2);
                resteFraisSpan.textContent = fraisPrincipal.toFixed(2);
                resteFinalSpan.textContent = montantReception.toFixed(2);
                
                // Afficher uniquement les résultats pour Reste de l'Afrique
                resultatsContents.forEach(rc => rc.classList.add('hidden'));
                document.getElementById('reste-resultats').classList.remove('hidden');
                
                resultatsDiv.style.display = 'block';
                resultatsDiv.scrollIntoView({ behavior: 'smooth' });
            });
        });
    </script>
</body>
</html>
